<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Kevin Tan's blog</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="/js/jquery.min.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/theme.css" rel="stylesheet">
</head>

<body>

<div class="container-fluid">
    <div class="row-fluid">
        <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                  <span class="sr-only">Toggle navigation</span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                  <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="/">Kevin Tan's blog</a>
              </div>
              <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                <ul class="nav navbar-nav">
                    <li class="active"><a href="/">Home</a></li>
                    <li class="active visible-xs-block"><a href="/links.html">Links</a></li>
                    <li class="active"><a href="/archive.html">Archive</a></li>
                    <li class="active"><a href="/about.html">About</a></li>
                    <li class="active"><a href="/feed.xml">RSS</a></li>
                    
                      <li class="active"><a href="https://github.com/tangothu/tangothu.github.io">Github</a></li>
                    
                </ul>
              </div>
        </div>
    </div>
</div>


<div class="container container-left">
    <div class="row">
        <div class="col-md-3 hidden-xs">
            <div class="sidebar well">
As our circle of knowledge expands，so does the circumference of darkness surrounding it - Albert Einstein
</div>

<div class="sidebar well">
    <h1>Recent Posts</h1>
    <ul>
        
          <li><a href="/2015/12/python-pass-by-value-or-reference">Python function - pass by value or by reference?</a></li>
        
          <li><a href="/2015/10/python-list-comprehension">List Comprehension in Python</a></li>
        
          <li><a href="/2015/09/python-function-parameter">Function parameter with default value in Python</a></li>
        
          <li><a href="/2015/09/python-data-structures">Python data structure usage summary</a></li>
        
          <li><a href="/2015/08/GWT-intro">Brief intro to Google Web Toolkit</a></li>
        
    </ul>
</div>

<div class="sidebar well">
<h1>links</h1>
<ul>
  <li><a href="http://mindhacks.cn/">刘未鹏的博客</a></li>
  <li><a href="http://www.raychase.net/">四火的唠叨</a></li>
</ul>

</div>

        </div>
        <div class="col-md-9">
          <div class="article">
            <div class="well">
                <h1><a href="/2015/08/GWT-intro">Aug 26, 2015 - Brief intro to Google Web Toolkit</a></h1>
            
            <div class="post-content">
            <h2 id="简单介绍对java-web-框架-google-web-toolkit的理解和使用体会。">简单介绍对Java web 框架 - Google Web Toolkit的理解和使用体会。</h2>

<p>根据维基百科<a href="https://zh.wikipedia.org/wiki/Google_Web_Toolkit">Link</a>，GWT是一个前端使用JavaScript，后端使用Java的AJAX framework。GWT可以用于构建网站或手机app，在一个java项目中整合前端/后端代码。在当下的网页开发前端技术中，总是需要用到html, css及javascript等编程语言完成对网页前端的编写，运用java实现后端代码逻辑。GWT框架可以使对javascript甚至html不甚熟悉的程序员也能开发动态的网页，仅使用java代码就能实现对网页局部的数据验证、更新(即完成AJAX的功能)，以减轻程序员开发的负担。可以说GWT是后端java程序员的福音！</p>

<p>在我使用GWT时，编写其前端代码需要掌握代码布局语言CSS，以及掌握和html元素对应的GWT控件(widget)。编写网页上的部分html的元素组成文件如下示例:</p>

<p>CreatePortfolioView.ui.xml</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="o">&lt;!</span><span class="n">DOCTYPE</span> <span class="nl">ui:</span><span class="n">UiBinder</span> <span class="n">SYSTEM</span> <span class="s">&quot;http://dl.google.com/gwt/DTD/xhtml.ent&quot;</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="nl">ui:</span><span class="n">UiBinder</span> <span class="nl">xmlns:</span><span class="n">ui</span><span class="o">=</span><span class="err">&#39;</span><span class="nl">urn:ui:</span><span class="n">com</span><span class="o">.</span><span class="na">google</span><span class="o">.</span><span class="na">gwt</span><span class="o">.</span><span class="na">uibinder</span><span class="err">&#39;</span>
    <span class="nl">xmlns:</span><span class="n">gwt</span><span class="o">=</span><span class="err">&#39;</span><span class="nl">urn:import:</span><span class="n">com</span><span class="o">.</span><span class="na">google</span><span class="o">.</span><span class="na">gwt</span><span class="o">.</span><span class="na">user</span><span class="o">.</span><span class="na">client</span><span class="o">.</span><span class="na">ui</span><span class="err">&#39;</span>
  <span class="o">&lt;</span><span class="nl">ui:</span><span class="n">style</span> <span class="n">type</span><span class="o">=</span><span class="err">&#39;</span><span class="n">com</span><span class="o">.</span><span class="na">yunniugu</span><span class="o">.</span><span class="na">portfolio</span><span class="o">.</span><span class="na">client</span><span class="o">.</span><span class="na">CreatePortfolioView</span><span class="o">.</span><span class="na">PortfolioViewStyle</span><span class="err">&#39;</span><span class="o">&gt;</span>
    <span class="o">.</span><span class="na">center</span> <span class="o">{</span>
      <span class="n">text</span><span class="o">-</span><span class="nl">align:</span> <span class="n">center</span><span class="o">;</span>
      <span class="nl">padding:</span> <span class="mi">10</span><span class="n">px</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="o">.</span><span class="na">addPortfolioBtnGrp</span> <span class="o">{</span>
      <span class="n">text</span><span class="o">-</span><span class="nl">align:</span> <span class="n">center</span><span class="o">;</span>
      <span class="nl">padding:</span> <span class="mi">10</span><span class="n">px</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="o">.</span><span class="na">container</span> <span class="o">{</span>
      <span class="n">background</span><span class="o">-</span><span class="nl">color:</span> <span class="n">white</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="o">.</span><span class="na">confirmBtn</span> <span class="o">{</span>
      <span class="n">margin</span><span class="o">-</span><span class="nl">left:</span> <span class="mi">20</span><span class="n">px</span><span class="o">;</span>
    <span class="o">}</span>
  <span class="o">&lt;/</span><span class="nl">ui:</span><span class="n">style</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nl">gwt:</span><span class="n">FlowPanel</span> <span class="n">addStyleNames</span><span class="o">=</span><span class="err">&#39;</span><span class="o">{</span><span class="n">style</span><span class="o">.</span><span class="na">container</span><span class="o">}</span><span class="err">&#39;</span><span class="o">&gt;</span>
    <span class="o">&lt;</span><span class="nl">gwt:</span><span class="n">FlowPanel</span> <span class="n">addStyleNames</span><span class="o">=</span><span class="err">&#39;</span><span class="o">{</span><span class="n">style</span><span class="o">.</span><span class="na">center</span><span class="o">}</span><span class="err">&#39;</span><span class="o">&gt;</span>
      <span class="o">&lt;</span><span class="nl">yng:</span><span class="n">Button</span> <span class="nl">ui:</span><span class="n">field</span><span class="o">=</span><span class="err">&#39;</span><span class="n">prevButton</span><span class="err">&#39;</span> <span class="n">text</span><span class="o">=</span><span class="s">&quot;上一步&quot;</span>
          <span class="n">addStyleNames</span><span class="o">=</span><span class="err">&#39;</span><span class="o">{</span><span class="n">button</span><span class="o">.</span><span class="na">css</span><span class="o">.</span><span class="na">large</span><span class="o">}</span><span class="err">&#39;</span><span class="o">/&gt;</span>
      <span class="o">&lt;</span><span class="nl">yng:</span><span class="n">Button</span> <span class="nl">ui:</span><span class="n">field</span><span class="o">=</span><span class="err">&#39;</span><span class="n">nextButton</span><span class="err">&#39;</span> <span class="n">text</span><span class="o">=</span><span class="s">&quot;下一步&quot;</span>
          <span class="n">addStyleNames</span><span class="o">=</span><span class="err">&#39;</span><span class="o">{</span><span class="n">button</span><span class="o">.</span><span class="na">css</span><span class="o">.</span><span class="na">large</span><span class="o">}</span> <span class="o">{</span><span class="n">button</span><span class="o">.</span><span class="na">css</span><span class="o">.</span><span class="na">highlighted</span><span class="o">}</span><span class="err">&#39;</span><span class="o">/&gt;</span>
    <span class="o">&lt;/</span><span class="nl">gwt:</span><span class="n">FlowPanel</span><span class="o">&gt;</span>
  <span class="o">&lt;/</span><span class="nl">gwt:</span><span class="n">FlowPanel</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="nl">ui:</span><span class="n">UiBinder</span><span class="o">&gt;</span>
</code></pre></div>
<p>CreatePortfolioView.java</p>
<div class="highlight"><pre><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">CreatePortfolioView</span> <span class="kd">extends</span> <span class="n">Composite</span> <span class="o">{</span>

  <span class="kd">interface</span> <span class="nc">Binder</span> <span class="kd">extends</span> <span class="n">UiBinder</span><span class="o">&lt;</span><span class="n">FlowPanel</span><span class="o">,</span> <span class="n">CreatePortfolioView</span><span class="o">&gt;</span> <span class="o">{}</span>
  <span class="kd">private</span> <span class="kd">static</span> <span class="kd">final</span> <span class="n">Binder</span> <span class="n">binder</span> <span class="o">=</span> <span class="n">GWT</span><span class="o">.</span><span class="na">create</span><span class="o">(</span><span class="n">Binder</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

  <span class="nd">@UiField</span> <span class="n">Button</span> <span class="n">nextButton</span><span class="o">;</span>
  <span class="nd">@UiField</span> <span class="n">Button</span> <span class="n">prevButton</span><span class="o">;</span>
  <span class="nd">@UiField</span> <span class="n">PortfolioViewStyle</span> <span class="n">style</span><span class="o">;</span>
  <span class="o">...</span> 

  <span class="n">CreatePortfolioView</span><span class="o">()</span> <span class="o">{</span>
    <span class="n">initWidget</span><span class="o">(</span><span class="n">binder</span><span class="o">.</span><span class="na">createAndBindUi</span><span class="o">(</span><span class="k">this</span><span class="o">));</span>
  <span class="o">}</span>

  <span class="nd">@UiHandler</span><span class="o">(</span><span class="s">&quot;nextButton&quot;</span><span class="o">)</span>
  <span class="kt">void</span> <span class="nf">clickNext</span><span class="o">(</span><span class="n">ClickEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">CreatePortfolioView</span><span class="o">.</span><span class="na">step</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">SUMMARY:</span>
        <span class="n">CreatePortfolioView</span><span class="o">.</span><span class="na">step</span> <span class="o">=</span> <span class="n">PortfolioEditStep</span><span class="o">.</span><span class="na">DETAIL</span><span class="o">;</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="nl">DETAIL:</span>
        <span class="n">CreatePortfolioView</span><span class="o">.</span><span class="na">step</span> <span class="o">=</span> <span class="n">PortfolioEditStep</span><span class="o">.</span><span class="na">FINAL</span><span class="o">;</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="nl">FINAL:</span>
        <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">presenter</span><span class="o">.</span><span class="na">switchStep</span><span class="o">(</span><span class="n">CreatePortfolioView</span><span class="o">.</span><span class="na">step</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="nd">@UiHandler</span><span class="o">(</span><span class="s">&quot;prevButton&quot;</span><span class="o">)</span>
  <span class="kt">void</span> <span class="nf">clickPrev</span><span class="o">(</span><span class="n">ClickEvent</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">CreatePortfolioView</span><span class="o">.</span><span class="na">step</span><span class="o">)</span> <span class="o">{</span>
      <span class="k">case</span> <span class="nl">FINAL:</span>
        <span class="n">CreatePortfolioView</span><span class="o">.</span><span class="na">step</span> <span class="o">=</span> <span class="n">PortfolioEditStep</span><span class="o">.</span><span class="na">DETAIL</span><span class="o">;</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="nl">DETAIL:</span>
        <span class="n">CreatePortfolioView</span><span class="o">.</span><span class="na">step</span> <span class="o">=</span> <span class="n">PortfolioEditStep</span><span class="o">.</span><span class="na">SUMMARY</span><span class="o">;</span>
        <span class="k">break</span><span class="o">;</span>
      <span class="k">case</span> <span class="nl">SUMMARY:</span>
        <span class="k">break</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="n">presenter</span><span class="o">.</span><span class="na">switchStep</span><span class="o">(</span><span class="n">CreatePortfolioView</span><span class="o">.</span><span class="na">step</span><span class="o">);</span>
  <span class="o">}</span>

  <span class="o">...</span>
<span class="o">}</span>
</code></pre></div>
<p>我们可以看到，上面代码中并没有任何html元素或javascript代码；构造函数中的
initWidget(binder.createAndBindUi(this)); 
语句会用GWT的uibinder绑定这个java class，并把其对应的javascript代码生成出来。</p>

            </div>
            
            </div>
          </div>
          <div class="pagination">
              
                <a class="btn btn-default" href="/2015/09/python-data-structures" class="next">Newer Post</a>
              
              
                <a class="btn btn-default" href="/2015/08/MVP-pattern" class="previous">Older Post</a>
              
</div>

        </div>
    </div>
</div>



<div class="container-fluid">
    <div class="row-fluid">
        <div class="span12 footer navbar-inverse navbar-fixed-bottom">
            <p class="copyright">&copy;2015 Kevin Tan's blog. Powered by <a href="http://jekyllrb.com">Jekyll</a>
            under
            <a href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution</a></p>
        </div>
    </div>
</div>






</body>
</html>

